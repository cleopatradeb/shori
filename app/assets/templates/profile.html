<h1>Profile Page</h1>
<!-- Basic Information -->
<div ng-if="profileUser.role === 'artist'">
  <h3><span ng-if="currentUser.id === profileUser.id">Hello, </span>{{profileUser.first_name}} {{profileUser.last_name}}</h3>
</div>
<div ng-if="profileUser.role === 'venue'">
  <h3><span ng-if="currentUser.id === profileUser.id">Hello, </span>{{profileUser.venue_name}}</h3>
  <h4>{{profileUser.first_name}} {{profile_user.last_name}}</h4>
</div>

<p>{{profileUser.biography}}</p>
<p>{{profileUser.role | ucfirst}}</p>

<!-- If logged in user viewing others' profile page -->
<div ng-if="currentUser.id != profileUser.id">
  <!-- Followers -->
  <p>Their Count: {{profileUserFollowersCount}}</p>
  <h3>Followers</h3>
  <!-- If follower = artist -->
  <p ng-repeat="follower in profileUserFollowers" ng-if="follower.role === 'artist'"><a ng-href="users/{{follower.id}}">{{follower.first_name}}</a></p>
  <!-- If follower = venue -->
  <p ng-repeat="follower in profileUserFollowers" ng-if="follower.role === 'venue'"><a ng-href="users/{{follower.id}}">{{follower.venue_name}}</a></p>
  <p><a ng-href="{{profileUser.links}}">{{profileUser.links}}</a></p>
</div>

<!-- If profile page belongs to logged in user -->
<div ng-if="currentUser.id === profileUser.id">
  <!-- Followers -->
  <p>Followers Count: {{currentUserFollowersCount}}</p>
  <h3>Followers</h3>
  <!-- If follower = artist -->
  <p ng-repeat="follower in currentUserFollowers" ng-if="follower.role === 'artist'"><a ng-href="users/{{follower.id}}">{{follower.first_name}}</a></p>
  <!-- If follower = venue -->
  <p ng-repeat="follower in currentUserFollowers" ng-if="follower.role === 'venue'"><a ng-href="users/{{follower.id}}">{{follower.venue_name}}</a></p>
  <p><a ng-href="{{profileUser.links}}">{{profileUser.links}}</a></p>

  <h3>My Upcoming Pacts</h3>
  <p ng-repeat="pact in myPacts">{{pact}}</p>
</div>

<!-- Follow & Message Buttons -->
<div ng-if="currentUser.id != profileUser.id">
  <button ng-click="unfollowMe(); unmakeAFollowing()" ng-if="!follow">Unfollow</button>
  <button ng-click="followMe(); makeAFollowing()" ng-show="follow">Follow</button>
  <button ng-click="openMessageBox()">Message</button>
</div>

<!-- <message></message> -->

<!-- User's Pacts -->


<!-- Create Pact Form -->
<div ng-controller="PactController">
  <h3>Make a Pact</h3>
  <form name="pactForm" novalidate>
    Start Date: <input type="text" name="startDate" ng-model="newPact.startDate" pick-a-date="date" pick-a-date-options="options" placeholder="Select Date" required><br/>
    End Date: <input type="text" name="endDate"  ng-model="newPact.endDate" pick-a-date="date" pick-a-date-options="options" placeholder="Select Date" required><br/>
    <input type="button" ng-click="reset()" value="Reset" />
    <input type="submit" ng-click="makePact(newPact)" value="Make Pact" />
    <datepicker></datepicker>
  </form>

  <div>
    {{newPact.startDate | date }} {{newPact.endDate | date }}
  </div>

  <pre>form = {{newPact | json}}</pre>
  <pre>master = {{master | json}}</pre>
</div>
